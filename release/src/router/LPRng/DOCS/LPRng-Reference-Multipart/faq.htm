<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
  <head>
    <meta name="generator" content="HTML Tidy, see www.w3.org">
    <title>The Most Frequently Asked Questions</title>
    <meta name="GENERATOR" content=
    "Modular DocBook HTML Stylesheet Version 1.7">
    <link rel="HOME" title=" LPRng Reference Manual" href=
    "index.htm">
    <link rel="PREVIOUS" title="Authenticated Transfer" href=
    "x10656.htm">
    <link rel="NEXT" title=
    "It was working normally, then I get connection refused errors"
    href="x10703.htm">
  </head>

  <body class="CHAPTER" bgcolor="#FFFFFF" text="#000000" link=
  "#0000FF" vlink="#840084" alink="#0000FF">
    <div class="NAVHEADER">
      <table summary="Header navigation table" width="100%" border=
      "0" cellpadding="0" cellspacing="0">
        <tr>
          <th colspan="3" align="center">LPRng Reference Manual: 5
          Sep 2003 (For LPRng-3.8.22)</th>
        </tr>

        <tr>
          <td width="10%" align="left" valign="bottom"><a href=
          "x10656.htm" accesskey="P">Prev</a></td>

          <td width="80%" align="center" valign="bottom">
          </td>

          <td width="10%" align="right" valign="bottom"><a href=
          "x10703.htm" accesskey="N">Next</a></td>
        </tr>
      </table>
      <hr align="LEFT" width="100%">
    </div>

    <div class="CHAPTER">
      <h1><a name="FAQ"></a>Chapter 20. The Most Frequently Asked
      Questions</h1>

      <div class="TOC">
        <dl>
          <dt><b>Table of Contents</b></dt>

          <dt>20.1. <a href="faq.htm#AEN10675">Why do I get
          malformed from address errors?</a></dt>

          <dt>20.2. <a href="x10703.htm">It was working normally,
          then I get connection refused errors</a></dt>

          <dt>20.3. <a href="x10735.htm">Job is not in print queue,
          but it gets printed!</a></dt>

          <dt>20.4. <a href="x10790.htm">Job disappears and is
          never printed, but lpr works</a></dt>

          <dt>20.5. <a href="x10807.htm">I get messages about bad
          control file format</a></dt>

          <dt>20.6. <a href="rfc1179.htm">What is RFC 1179, the
          Line Printer Daemon Protocol?</a></dt>

          <dt>20.7. <a href="x10839.htm">I want to replace lp,
          lpstat, etc, but my programs need them</a></dt>
        </dl>
      </div>

      <p>In this section, the Most Frequently Asked Questions have
      been placed, together with their answers. You may notice that
      some questions have the same answer, but the symptoms appear
      differently.</p>

      <p>Some of these answers will reference other material in
      this FAQ, or the <b class="APPLICATION">LPRng</b> man
      pages.</p>

      <div class="SECT1">
        <h1 class="SECT1"><a name="AEN10675">20.1. Why do I get
        malformed from address errors?</a></h1>

        <p>This is the number one question asked by most <b class=
        "APPLICATION">LPRng</b> users who try to use <b class=
        "APPLICATION">LPRng</b> with network printers or other
        systems supporting <a href="rfc1179.htm">RFC1179</a>
        printing. For details about <b class=
        "APPLICATION">LPRng</b> and RFC1179, see <a href=
        "rfc1179ref.htm">RFC1179 and <b class=
        "APPLICATION">LPRng</b></a>.</p>

        <p>The <var class="LITERAL">malformed from address</var>
        error is usually reported when trying to send a print job
        from <b class="APPLICATION">LPRng</b> to other BSD <b
        class="APPLICATION">lpr</b> or RFC1179 <b class=
        "APPLICATION">lpr</b> implementations, or with network
        connected printers that have a built in <b class=
        "APPLICATION">lpd</b> server. This is due to the following
        RFC1179 rule: <a name="AEN10690"></a></p>

        <blockquote class="BLOCKQUOTE">
          <p>Servers originate a connection from ports in the range
          721-731.</p>
        </blockquote>
        <br>
        <br>

        <p>WHY? These are a subset of the 'reserved' ports in UNIX,
        and normal users cannot open connections from them. This
        provides a small amount of security from UNIX users on the
        host 'spoofing' a server.</p>

        <p>IMPLICATION: in order to do use a reserved port, the
        program must have root privileges. This means the LPR, <b
        class="APPLICATION">lpd</b>, <b class=
        "APPLICATION">lpq</b>, etc., programs must be installed
        SUID root. This can open up a can of worms with regard to
        security, but <b class="APPLICATION">LPRng</b> has been
        designed to take as much paranoid care as possible to avoid
        problems.</p>

        <p>WHAT TO DO: When installing <b class=
        "APPLICATION">LPRng</b> you will need to install the
        executables SUID root. In the <tt class=
        "FILENAME">src/Makefile</tt>, you can remove the comment
        from the line</p>

        <div class="INFORMALEXAMPLE">
          <a name="AEN10700"></a>
<pre class="SCREEN">
    PERMS=SUID_ROOT_PERMS
</pre>
        </div>
        and then do <var class="LITERAL">make install</var>. This
        will install the executables SUID, and owned by root.<br>
        <br>
      </div>
    </div>

    <div class="NAVFOOTER">
      <hr align="LEFT" width="100%">

      <table summary="Footer navigation table" width="100%" border=
      "0" cellpadding="0" cellspacing="0">
        <tr>
          <td width="33%" align="left" valign="top"><a href=
          "x10656.htm" accesskey="P">Prev</a></td>

          <td width="34%" align="center" valign="top"><a href=
          "index.htm" accesskey="H">Home</a></td>

          <td width="33%" align="right" valign="top"><a href=
          "x10703.htm" accesskey="N">Next</a></td>
        </tr>

        <tr>
          <td width="33%" align="left" valign="top">Authenticated
          Transfer</td>

          <td width="34%" align="center" valign="top">&nbsp;</td>

          <td width="33%" align="right" valign="top">It was working
          normally, then I get connection refused errors</td>
        </tr>
      </table>
    </div>
  </body>
</html>

