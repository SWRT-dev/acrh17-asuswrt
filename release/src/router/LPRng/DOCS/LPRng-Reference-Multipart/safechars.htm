<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
  <head>
    <meta name="generator" content="HTML Tidy, see www.w3.org">
    <title>Fixing Bad Control Files and Metacharacters</title>
    <meta name="GENERATOR" content=
    "Modular DocBook HTML Stylesheet Version 1.7">
    <link rel="HOME" title=" LPRng Reference Manual" href=
    "index.htm">
    <link rel="UP" title="lpr - Job Spooler Program" href=
    "lpr.htm">
    <link rel="PREVIOUS" title=
    "Restrict Queue Use to Group Members " href="rg.htm">
    <link rel="NEXT" title="Minimum Spool Queue Free Space " href=
    "minfree.htm">
  </head>

  <body class="SECT1" bgcolor="#FFFFFF" text="#000000" link=
  "#0000FF" vlink="#840084" alink="#0000FF">
    <div class="NAVHEADER">
      <table summary="Header navigation table" width="100%" border=
      "0" cellpadding="0" cellspacing="0">
        <tr>
          <th colspan="3" align="center">LPRng Reference Manual: 5
          Sep 2003 (For LPRng-3.8.22)</th>
        </tr>

        <tr>
          <td width="10%" align="left" valign="bottom"><a href=
          "rg.htm" accesskey="P">Prev</a></td>

          <td width="80%" align="center" valign="bottom">Chapter 6.
          <b class="APPLICATION">lpr</b> - Job Spooler Program</td>

          <td width="10%" align="right" valign="bottom"><a href=
          "minfree.htm" accesskey="N">Next</a></td>
        </tr>
      </table>
      <hr align="LEFT" width="100%">
    </div>

    <div class="SECT1">
      <h1 class="SECT1"><a name="SAFECHARS">6.12. Fixing Bad
      Control Files and Metacharacters</a></h1>

      <p>Options used:</p>

      <ul>
        <li>
          <p><var class="LITERAL">safe_chars=</var><span class=
          "emphasis"><i class="EMPHASIS">additional safe characters
          for control file</i></span></p>
        </li>
      </ul>
      <br>
      <br>

      <p>RFC1179 defines a simple protocol and standard for print
      jobs to be interchanged between print spooling systems.
      Unfortunately, there were some major mistakes in not
      specifying the exact form that text would take when placed in
      the control file.</p>

      <p>By default, <b class="APPLICATION">LPRng</b> will brutally
      convert a non-conforming RFC1179 control file into one that
      is acceptable to most, if not all, existing RFC1179
      implementations. In order to prevent problems with <b class=
      "APPLICATION">LPRng</b> ruthlessly purges all characters but
      upper and lower case letters, spaces, tabs, and <var class=
      "LITERAL">-_.@/:()=,+-%</var> from the control file,
      replacing suspicious characters with underscore (<var class=
      "LITERAL">_</var>). In addition, <b class=
      "APPLICATION">LPRng</b> will ruthlessly regenerate control
      file entries and data file names so that they are compliant
      with all known RFC1179 implementations.</p>

      <p>For some installations, the default set of safe characters
      may be overly restrictive. For example, <span class=
      "emphasis"><i class="EMPHASIS">vintage</i></span> software
      may generate files with <var class="LITERAL">#</var>
      characters in the <var class="LITERAL">J</var> line of the
      control file. The replacement of this character by underscore
      (<var class="LITERAL">_</var>) may cause other applications
      which use the control file information to stop working. The
      <var class="LITERAL">:safe_chars</var> option allows the user
      to specify an additional set of safe characters in the <tt
      class="FILENAME">lpd.conf</tt> configuration file(s).</p>

      <p>For example, <var class="LITERAL">:safe_chars=#"</var>
      would allow the <var class="LITERAL">#</var> and <var class=
      "LITERAL">"</var> characters to appear in the control
      file.</p>
    </div>

    <div class="NAVFOOTER">
      <hr align="LEFT" width="100%">

      <table summary="Footer navigation table" width="100%" border=
      "0" cellpadding="0" cellspacing="0">
        <tr>
          <td width="33%" align="left" valign="top"><a href=
          "rg.htm" accesskey="P">Prev</a></td>

          <td width="34%" align="center" valign="top"><a href=
          "index.htm" accesskey="H">Home</a></td>

          <td width="33%" align="right" valign="top"><a href=
          "minfree.htm" accesskey="N">Next</a></td>
        </tr>

        <tr>
          <td width="33%" align="left" valign="top">Restrict Queue
          Use to Group Members</td>

          <td width="34%" align="center" valign="top"><a href=
          "lpr.htm" accesskey="U">Up</a></td>

          <td width="33%" align="right" valign="top">Minimum Spool
          Queue Free Space</td>
        </tr>
      </table>
    </div>
  </body>
</html>

