<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
  <head>
    <meta name="generator" content="HTML Tidy, see www.w3.org">
    <title>Force Connection to Localhost</title>
    <meta name="GENERATOR" content=
    "Modular DocBook HTML Stylesheet Version 1.7">
    <link rel="HOME" title=" LPRng Reference Manual" href=
    "index.htm">
    <link rel="UP" title=
    "LPRng Clients - lpr, lprm, lpq, lpc, lpstat " href=
    "lprngclients.htm">
    <link rel="PREVIOUS" title="Default Printer and Server Host"
    href="defaultrmrp.htm">
    <link rel="NEXT" title="User Identification " href=
    "allowusersetting.htm">
  </head>

  <body class="SECT1" bgcolor="#FFFFFF" text="#000000" link=
  "#0000FF" vlink="#840084" alink="#0000FF">
    <div class="NAVHEADER">
      <table summary="Header navigation table" width="100%" border=
      "0" cellpadding="0" cellspacing="0">
        <tr>
          <th colspan="3" align="center">LPRng Reference Manual: 5
          Sep 2003 (For LPRng-3.8.22)</th>
        </tr>

        <tr>
          <td width="10%" align="left" valign="bottom"><a href=
          "defaultrmrp.htm" accesskey="P">Prev</a></td>

          <td width="80%" align="center" valign="bottom">Chapter 5.
          <b class="APPLICATION">LPRng</b> Clients - lpr, lprm,
          lpq, lpc, lpstat</td>

          <td width="10%" align="right" valign="bottom"><a href=
          "allowusersetting.htm" accesskey="N">Next</a></td>
        </tr>
      </table>
      <hr align="LEFT" width="100%">
    </div>

    <div class="SECT1">
      <h1 class="SECT1"><a name="FORCELOCALHOST">5.8. Force
      Connection to Localhost</a></h1>

      <p>Options used:</p>

      <ul>
        <li>
          <p><var class="LITERAL">force_localhost</var> FLAG <span
          class="emphasis"><i class="EMPHASIS">force localhost to
          be remote host</i></span></p>
        </li>
      </ul>
      <br>
      <br>

      <p>The legacy BSD print spooler required an <b class=
      "APPLICATION">lpd</b> print server to be running on each
      host. During the initial stages of development and
      deployment, the default <b class="APPLICATION">LPRng</b>
      configuration and deployment was to always allow <span class=
      "emphasis"><i class="EMPHASIS">lightweight</i></span>
      operation, that is, clients would always connect to the
      remote host specified in the printcap.</p>

      <p>While this default was appropriate for experienced system
      administrators, novice administrators or those who had
      already configured print spooling systems and simply wanted
      to upgrade found themselves confused by this change. This
      problem resulted in over 700 postings to the <b class=
      "APPLICATION">LPRng</b> mailing list in a five year
      period.</p>

      <p>This problem was solved by providing a <var class=
      "LITERAL">force_localhost</var> option in the configuration,
      and setting the default value to <var class="LITERAL">1</var>
      or <acronym class="ACRONYM">TRUE</acronym>. When this option
      is <acronym class="ACRONYM">TRUE</acronym>, then all <b
      class="APPLICATION">LPRng</b> clients will connect to the
      server on the localhost, <span class="emphasis"><i class=
      "EMPHASIS">unless</i></span> they use the <tt class=
      "COMMAND">lpr -Pserver@host</tt> command line form. If
      lightweight operation is wanted, the administrator can either
      compile the <b class="APPLICATION">LPRng</b> software with
      the appropriate value or can explicitly set the <var class=
      "LITERAL">force_localhost@</var> flag.</p>

      <div class="INFORMALEXAMPLE">
        <a name="AEN4196"></a>
<pre class="SCREEN">
    # default:
    lp:lp=lp@10.0.0.1:...
      lpr -Plp -&gt;
        lp:lp=lp@localhost:...
      lpr -Plp@10.0.0.1 -&gt;
        lp:lp=lp@10.0.0.1  (no other options)
    
    lp:lp=lp@10.0.0.1:force_localhost@:...
      lpr -Plp -&gt;
        lp:lp=lp@10.0.0.1:...
    
    To disable at compile time:
      configure --disable-force_localhost
</pre>
      </div>
      <br>
      <br>
    </div>

    <div class="NAVFOOTER">
      <hr align="LEFT" width="100%">

      <table summary="Footer navigation table" width="100%" border=
      "0" cellpadding="0" cellspacing="0">
        <tr>
          <td width="33%" align="left" valign="top"><a href=
          "defaultrmrp.htm" accesskey="P">Prev</a></td>

          <td width="34%" align="center" valign="top"><a href=
          "index.htm" accesskey="H">Home</a></td>

          <td width="33%" align="right" valign="top"><a href=
          "allowusersetting.htm" accesskey="N">Next</a></td>
        </tr>

        <tr>
          <td width="33%" align="left" valign="top">Default Printer
          and Server Host</td>

          <td width="34%" align="center" valign="top"><a href=
          "lprngclients.htm" accesskey="U">Up</a></td>

          <td width="33%" align="right" valign="top">User
          Identification</td>
        </tr>
      </table>
    </div>
  </body>
</html>

